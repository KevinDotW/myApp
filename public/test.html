<!DOCTYPE HTML>
<html>
<body>

<canvas id="canv" width="200" height="100" style="border:1px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>

<script type="text/javascript">
var canvas = document.getElementById('canv');
var ctx = canvas.getContext("2d");
             
ctx.beginPath();
ctx.strokeStyle = "#f00";
ctx.lineWidth = 3;
var oX,oY;
var flag = false;
function draw(sx,sy,ex,ey){               
    ctx.clearRect(0,0,600,600);
    ctx.moveTo(sx,sy);
    ctx.lineTo(ex,ey);
    ctx.stroke();
}          

canvas.onmousedown = function(e){
    if(!flag){
        oX = e.pageX;
        oY = e.pageY;                
    }
    flag = !flag;
    canvas.onmousedown= function(e){
    if(flag){
        draw(oX,oY,e.pageX,e.pageY);
        }
}
}

</script>

</body>